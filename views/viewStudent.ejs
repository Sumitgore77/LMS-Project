<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>View Students</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <%- include("navbar.ejs")%>
        <div class="container mt-5">
            <div class="card shadow">
                <div class="card-header text-center bg-primary text-white">
                    <h3>Student List</h3>
                </div>
                <div class="mt-3 mx-3 ">
                    <input type="text" class="form-control" placeholder="Search Courses..." id="searchStudent">
                </div>
                <div class="card-body">
                    <table class="table table-bordered table-striped text-center">
                        <thead class="table-dark">
                            <tr>
                                <th>Sr.No</th>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Contact</th>
                                <th>Subject</th>
                                <th colspan="2">Action</th>
                            </tr>
                        </thead>
                        <tbody id="studTableBody">
                            <%if(data.length> 0){
                                data.forEach((val,i)=>{%>
                                <tr>
                                    <td>
                                        <%= i+1 %>
                                    </td>
                                    <td>
                                        <%= val.sname %>
                                    </td>
                                    <td>
                                        <%= val.email %>
                                    </td>
                                    <td>
                                        <%= val.contact %>
                                    </td>
                                    <td>
                                        <%= val.cname %>
                                    </td>
                                    <td>
                                        <a href="/updateStudent?sid=<%= val.sid%>" class="btn btn-warning btn-sm">
                                            <i class="bi bi-pencil-fill"></i> Update
                                        </a>
                                    </td>
                                    <td>
                                        <a href="/deleteStudent?sid=<%= val.sid%>" class="btn btn-danger btn-sm">
                                            <i class="bi bi-trash-fill"></i> Delete
                                        </a>
                                    </td>
                                </tr>
                                <%}) }else{%>
                                    <tr>
                                        <td colspan="7" class="text-center text-muted">No courses available.</td>
                                    </tr>
                                    <%}%>

                                        <% if(msgStatus){%>
                                            <div class="alert alert-success align-items-center" id="statusAlert"
                                                role="alert" style="padding: 6px 10px;">
                                                <%= msgStatus %>
                                            </div>
                                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <script src="viewStudent.js"></script>
        <script src="searchStudent.js"></script>
</body>

</html>